# Project Board

> **Generated by `keystone-board` skill**
> **Last Updated:** 2025-12-28 17:46

## Active Workstreams

| Workstream | Feature Plan | Session Name | Status |
| :--- | :--- | :--- | :--- |
| ``data-engine`` | `keystone/project/workstreams/data-engine.md` | ``root-session`` | `Active` |
| ``identity-resolution`` | `keystone/project/workstreams/identity-resolution.md` | ``IdentityResolution`` | `Active` |
| ``silent-night`` | `keystone/project/workstreams/silent-night.md` | ``Sisyphus`` | `Active` |
| ``issue-tracker`` | `keystone/project/workstreams/issue-tracker.md` | ``Sisyphus`` | `Active` |
| ``value-semantics`` | `keystone/project/workstreams/value-semantics.md` | ``Sisyphus`` | `Active` |

## Progress Overview

| Total | Open | In Progress | Blocked | Done |
| :--- | :--- | :--- | :--- | :--- |
| 87 | 3 | 0 | 0 | 81 |

**Overall Progress:** [██████████████████░░] 93%

---

## Blocked

*None.*

---

## In Progress

*None.*

---

## Open
- [ ] **GH-036:** Bitcoin miscalculation - shows €74k instead of €17 `[issue-tracker]`
- [ ] **GH-037:** NVIDIA direct exposure wrong - shows €159 instead of €1679 `[issue-tracker]`
- [ ] **TASK-612:** Implement Async I/O for Adapters. `[data-engine]`

---

## Backlog
- [ ] **IR-510:** Add format_learnings aggregate table `[main]`
- [ ] **IR-511:** Add variant reordering based on success rates `[main]`
- [ ] **IR-512:** Integrate reordering into Finnhub/yFinance calls `[main]`

---

## Done
- [x] **IR-001:** Add isin_cache table to local SQLite `[main]`
- [x] **IR-002:** Add source/confidence/currency columns to Supabase aliases table `[main]`
- [x] **IR-003:** Update lookup_alias_rpc to return rich result `[main]`
- [x] **IR-004:** Update Python HiveClient for new schema `[main]`
- [x] **IR-101:** Implement NameNormalizer (strip suffixes, generate variants) `[main]`
- [x] **IR-102:** Implement TickerParser (parse formats, generate variants) `[main]`
- [x] **IR-103:** Integrate normalizers into ISINResolver.resolve() `[main]`
- [x] **IR-104:** Add 80 unit tests for normalizer `[main]`
- [x] **IR-201:** Add confidence field to ResolutionResult `[main]`
- [x] **IR-202:** Reorder API cascade: Wikidata → Finnhub → yFinance `[main]`
- [x] **IR-203:** Implement batched Wikidata SPARQL with VALUES clause `[main]`
- [x] **IR-204:** Add in-memory negative cache (5-min TTL) `[main]`
- [x] **IR-205:** Implement tiered variant strategy per API `[main]`
- [x] **IR-206:** Fix SPARQL injection vulnerability `[main]`
- [x] **IR-207:** Add 16 unit tests for Phase 2 features `[main]`
- [x] **IR-301:** Add isin_cache table to LocalCache schema `[main]`
- [x] **IR-302:** Add LocalCache methods for isin_cache `[main]`
- [x] **IR-303:** Replace in-memory negative cache with SQLite `[main]`
- [x] **IR-304:** Remove legacy enrichment_cache.json `[main]`
- [x] **IR-305:** Add tests for persistent negative cache `[main]`
- [x] **IR-401:** Add resolution_source and resolution_confidence columns to DataFrame `[main]`
- [x] **IR-402:** Update Decomposer._resolve_holdings_isins() to store provenance `[main]`
- [x] **IR-403:** Update enrich_etf_holdings() to store provenance `[main]`
- [x] **IR-404:** Update aggregation to preserve provenance columns `[main]`
- [x] **IR-405:** Add unit tests for provenance storage (18 tests) `[main]`
- [x] **IR-501:** Add format detection to TickerParser `[main]`
- [x] **IR-502:** Add format_logs table and logging methods `[main]`
- [x] **IR-503:** Integrate logging into resolution flow `[main]`
- [x] **IR-504:** Add unit tests for format logging `[main]`
- [x] **IR-6:** A1 `[main]`
- [x] **SN-001:** Replace prints in tr_daemon.py `[silent-night]`
- [x] **SN-002:** Replace prints in tr_bridge.py `[silent-night]` (Deps: SN-001)
- [x] **SN-003:** Replace prints in validation.py `[silent-night]` (Deps: SN-001)
- [x] **SN-004:** Replace prints in position_keeper.py `[silent-night]` (Deps: SN-001)
- [x] **SN-005:** Replace prints in hive_client.py `[silent-night]` (Deps: SN-001)
- [x] **SN-006:** Replace prints in adapters `[silent-night]` (Deps: SN-001)
- [x] **SN-007:** Replace prints in pdf_parser/parser.py `[silent-night]` (Deps: SN-001)
- [x] **SN-008:** Replace prints in remaining files `[silent-night]` (Deps: SN-001)
- [x] **SN-009:** Final verification and commit `[silent-night]` (Deps: SN-001, SN-002, SN-003, SN-004, SN-005, SN-006, SN-007, SN-008)
- [x] **GH-034:** [AUTO] PIPELINE General: 10 occurrences `[issue-tracker]`
- [x] **GH-038:** [AUTO] PIPELINE General: 9 occurrences (follow-up to #34) `[issue-tracker]`
- [x] **GH-039:** [AUTO] PIPELINE General: 10 occurrences (stale) `[issue-tracker]`
- [x] **GH-040:** [AUTO] PIPELINE General: 10 occurrences (enum cast) `[issue-tracker]`
- [x] **GH-041:** [AUTO] PIPELINE General: 10 occurrences (stale) `[issue-tracker]`
- [x] **GH-042:** [AUTO] PIPELINE General: 10 occurrences (Unknown asset_class) `[issue-tracker]`
- [x] **GH-043:** [AUTO] PIPELINE Crash: 1 occurrences (KeyboardInterrupt) `[issue-tracker]`
- [x] **GH-035:** [AUTO] PIPELINE Crash: 1 occurrences `[issue-tracker]`
- [x] **GH-028:** Hive log shows same contributions every pipeline run. `[issue-tracker]`
- [x] **GH-029:** Add explanation for "Exposure Distribution". `[issue-tracker]`
- [x] **GH-030:** Add explanation for "Confidence Score". `[issue-tracker]`
- [x] **GH-031:** True exposure missing direct holdings (e.g., NVDA direct + 7 ETFs). `[issue-tracker]`
- [x] **GH-032:** Dashboard missing top 10 true exposure widget. `[issue-tracker]`
- [x] **GH-033:** Action cue Fix/Ignore buttons have no functionality. `[issue-tracker]`
- [x] **GH-012:** Pipeline crash - malformed JSON. `[issue-tracker]`
- [x] **GH-013:** Pipeline crash - JSON corruption. `[issue-tracker]`
- [x] **GH-016:** HelloFresh misclassified as ETF. `[issue-tracker]`
- [x] **GH-017:** "Remember me" doesn't pre-fill credentials. `[issue-tracker]`
- [x] **GH-018:** Unknown command error. `[issue-tracker]`
- [x] **GH-019:** Overlap page broken - removed OverlapView. `[issue-tracker]`
- [x] **GH-020:** Holdings UI broken - compact layout fix. `[issue-tracker]`
- [x] **GH-021:** Data tab duplicates TR tab - removed DataView. `[issue-tracker]`
- [x] **GH-022:** Hive contribution not enabled by default. `[issue-tracker]`
- [x] **GH-023:** Hive contribution not enabled by default (duplicate). `[issue-tracker]`
- [x] **GH-024:** Pipeline crashes - telemetry DB connection fix. `[issue-tracker]`
- [x] **GH-025:** Hive batch contribution failed - missing .execute(). `[issue-tracker]`
- [x] **GH-026:** All holdings show as "unresolved/unknown". `[issue-tracker]`
- [x] **GH-027:** Resolution status explanation (duplicate of #26). `[issue-tracker]`
- [x] **TASK-701:** Implement Echo-Bridge (Unified FastAPI Sidecar). `[data-engine]`
- [x] **TASK-702:** Implement Redacted Reporter (PII Scrubbing + GitHub Relay). `[data-engine]`
- [x] **TASK-703:** Integrate Echo UI (Status Badge + Opt-out Toggle). `[data-engine]`
- [x] **TASK-609:** Implement Confidence Scoring Logic (Trust Metrics). `[data-engine]`
- [x] **TASK-610:** Vectorize Aggregator Math (Performance). `[data-engine]`
- [x] **TASK-451:** Finalize Hive Schema & Generate SQL. `[data-engine]`
- [x] **TASK-452:** Implement Hive Client (Read/Write). `[data-engine]`
- [x] **TASK-602:** Implement HiveEnrichmentService. `[data-engine]`
- [x] **TASK-603:** Integrate market.py with Hive. `[data-engine]`
- [x] **TASK-604:** Implement Asset Universe Sync. `[data-engine]`
- [x] **TASK-606:** Implement ETF Holdings Query & Hive Contribution. `[data-engine]`
- [x] **TASK-601:** Fix Pipeline Type & Import Errors. `[data-engine]`
- [x] **TASK-605:** Rigorous Pipeline Testing (44/44 tests passed). `[data-engine]`
- [x] **TASK-607:** Implement Smart Manual Upload (XLSX support + Heuristics). `[data-engine]`

---

## Source Map
- `keystone/project/workstreams/data-engine.md`
- `keystone/project/workstreams/identity-resolution.md`
- `keystone/project/workstreams/issue-tracker.md`
- `keystone/project/workstreams/silent-night.md`
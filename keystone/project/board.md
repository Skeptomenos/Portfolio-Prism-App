# Project Board

> **Generated by `keystone-board` skill**
> **Last Updated:** 2025-12-27 16:14

## Active Workstreams

| Workstream | Feature Plan | Session Name | Status |
| :--- | :--- | :--- | :--- |
| ``data-engine`` | `keystone/project/workstreams/data-engine.md` | ``root-session`` | `Active` |
| ``identity-resolution`` | `keystone/project/workstreams/identity-resolution.md` | ``IdentityResolution`` | `Active` |

## Progress Overview

| Total | Open | In Progress | Blocked | Done |
| :--- | :--- | :--- | :--- | :--- |
| 51 | 1 | 0 | 0 | 39 |

**Overall Progress:** [███████████████░░░░░] 76%

---

## Blocked

*None.*

---

## In Progress

*None.*

---

## Open
- [ ] **IR-601:** Update frontend types for resolution fields `[main]`
- [ ] **IR-602:** Create ResolutionStatusBadge component `[main]`
- [ ] **IR-603:** Integrate badge into PortfolioTable `[main]`
- [ ] **IR-604:** Integrate badge into HoldingsView `[main]`
- [ ] **IR-605:** Update Streamlit debug dashboard `[main]`
- [ ] **TASK-612:** Implement Async I/O for Adapters. `[data-engine]`

---

## Backlog
- [ ] **IR-510:** Add format_learnings aggregate table `[main]`
- [ ] **IR-511:** Add variant reordering based on success rates `[main]`
- [ ] **IR-512:** Integrate reordering into Finnhub/yFinance calls `[main]`

---

## Done
- [x] **IR-501:** Add format detection to TickerParser `[main]`
- [x] **IR-502:** Add format_logs table and logging methods `[main]`
- [x] **IR-503:** Integrate logging into resolution flow `[main]`
- [x] **IR-504:** Add unit tests for format logging `[main]`
- [x] **IR-001:** Add isin_cache table to local SQLite `[main]`
- [x] **IR-002:** Add source/confidence/currency columns to Supabase aliases table `[main]`
- [x] **IR-003:** Update lookup_alias_rpc to return rich result `[main]`
- [x] **IR-004:** Update Python HiveClient for new schema `[main]`
- [x] **IR-101:** Implement NameNormalizer (strip suffixes, generate variants) `[main]`
- [x] **IR-102:** Implement TickerParser (parse formats, generate variants) `[main]`
- [x] **IR-103:** Integrate normalizers into ISINResolver.resolve() `[main]`
- [x] **IR-104:** Add 80 unit tests for normalizer `[main]`
- [x] **IR-201:** Add confidence field to ResolutionResult `[main]`
- [x] **IR-202:** Reorder API cascade: Wikidata → Finnhub → yFinance `[main]`
- [x] **IR-203:** Implement batched Wikidata SPARQL with VALUES clause `[main]`
- [x] **IR-204:** Add in-memory negative cache (5-min TTL) `[main]`
- [x] **IR-205:** Implement tiered variant strategy per API `[main]`
- [x] **IR-206:** Fix SPARQL injection vulnerability `[main]`
- [x] **IR-207:** Add 16 unit tests for Phase 2 features `[main]`
- [x] **IR-301:** Add isin_cache table to LocalCache schema `[main]`
- [x] **IR-302:** Add LocalCache methods for isin_cache `[main]`
- [x] **IR-303:** Replace in-memory negative cache with SQLite `[main]`
- [x] **IR-304:** Remove legacy enrichment_cache.json `[main]`
- [x] **IR-305:** Add tests for persistent negative cache `[main]`
- [x] **IR-401:** Add resolution_source and resolution_confidence columns to DataFrame `[main]`
- [x] **IR-402:** Update Decomposer._resolve_holdings_isins() to store provenance `[main]`
- [x] **IR-403:** Update enrich_etf_holdings() to store provenance `[main]`
- [x] **IR-404:** Update aggregation to preserve provenance columns `[main]`
- [x] **IR-405:** Add unit tests for provenance storage (18 tests) `[main]`
- [x] **TASK-701:** Implement Echo-Bridge (Unified FastAPI Sidecar). `[data-engine]`
- [x] **TASK-702:** Implement Redacted Reporter (PII Scrubbing + GitHub Relay). `[data-engine]`
- [x] **TASK-703:** Integrate Echo UI (Status Badge + Opt-out Toggle). `[data-engine]`
- [x] **TASK-609:** Implement Confidence Scoring Logic (Trust Metrics). `[data-engine]`
- [x] **TASK-610:** Vectorize Aggregator Math (Performance). `[data-engine]`
- [x] **TASK-451:** Finalize Hive Schema & Generate SQL. `[data-engine]`
- [x] **TASK-452:** Implement Hive Client (Read/Write). `[data-engine]`
- [x] **TASK-602:** Implement HiveEnrichmentService. `[data-engine]`
- [x] **TASK-603:** Integrate market.py with Hive. `[data-engine]`
- [x] **TASK-604:** Implement Asset Universe Sync. `[data-engine]`
- [x] **TASK-606:** Implement ETF Holdings Query & Hive Contribution. `[data-engine]`
- [x] **TASK-601:** Fix Pipeline Type & Import Errors. `[data-engine]`
- [x] **TASK-605:** Rigorous Pipeline Testing (44/44 tests passed). `[data-engine]`
- [x] **TASK-607:** Implement Smart Manual Upload (XLSX support + Heuristics). `[data-engine]`

---

## Source Map
- `keystone/project/workstreams/data-engine.md`
- `keystone/project/workstreams/identity-resolution.md`